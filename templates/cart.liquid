{%- comment -%}
  CART TEMPLATE ‚Äî Zomato-Style
  Card-based layout with inline quantity stepper
{%- endcomment -%}

<div class="zomato-cart">
  {%- if cart.item_count > 0 -%}

    {%- comment -%} Header {%- endcomment -%}
    <div class="zc-header">
      <h2>Your Cart <span class="zc-header-count">({{ cart.item_count }} item{{ cart.item_count | pluralize: '', 's' }})</span></h2>
    </div>

    {%- comment -%} Cart Items {%- endcomment -%}
    <div class="zc-items">
      {%- for item in cart.items -%}
        <div class="zc-item">
          <a href="{{ item.url }}" class="zc-item-img-link">
            <img
              class="zc-item-img"
              src="{{ item.image | image_url: width: 200 }}"
              alt="{{ item.title | escape }}"
              loading="lazy"
            >
          </a>
          <div class="zc-item-info">
            <a href="{{ item.url }}" class="zc-item-name">
              {{ item.product.title }}
              {%- unless item.variant.title == 'Default Title' -%}
                <span class="zc-item-variant">{{ item.variant.title }}</span>
              {%- endunless -%}
            </a>
            <p class="zc-item-price">{{ item.price | money }}</p>
          </div>
          <div class="zc-item-right">
            <div class="zc-qty-stepper">
              <button
                data-cart-qty="minus"
                data-line-key="{{ item.key }}"
                data-current-qty="{{ item.quantity }}"
                aria-label="Decrease quantity"
              >‚àí</button>
              <span class="zc-qty-count">{{ item.quantity }}</span>
              <button
                data-cart-qty="plus"
                data-line-key="{{ item.key }}"
                data-current-qty="{{ item.quantity }}"
                aria-label="Increase quantity"
              >+</button>
            </div>
            <p class="zc-item-total">{{ item.line_price | money }}</p>
          </div>
        </div>
      {%- endfor -%}
    </div>

    {%- comment -%} Promo / Discount Code {%- endcomment -%}
    <div class="zc-promo">
      <p class="zc-promo-title">üè∑Ô∏è Apply Coupon</p>
      <div class="zc-promo-row">
        <input type="text" placeholder="Enter coupon code" class="zc-promo-input">
        <button class="zc-promo-btn" type="button">Apply</button>
      </div>
      <p class="zc-promo-note">Note: Discount codes will be applied at checkout.</p>
    </div>

    {%- comment -%} Bill Details {%- endcomment -%}
    <div class="zc-bill">
      <h3>Bill Details</h3>
      <div class="zc-bill-row">
        <span>Item Total</span>
        <span>{{ cart.total_price | money }}</span>
      </div>
      <div class="zc-bill-row">
        <span>Delivery Fee</span>
        <span>Calculated at checkout</span>
      </div>
      <div class="zc-bill-row zc-bill-total">
        <span>To Pay</span>
        <span>{{ cart.total_price | money }}</span>
      </div>
    </div>

    {%- comment -%} Checkout {%- endcomment -%}
    <form action="/checkout" method="post">
      <button type="submit" name="checkout" class="zc-checkout-btn">
        Proceed to Checkout
      </button>
    </form>

  {%- else -%}

    {%- comment -%} Empty Cart {%- endcomment -%}
    <div class="zc-empty">
      <div class="zc-empty-icon">üõí</div>
      <p>Your cart is empty</p>
      <a href="/collections/all" class="zc-browse-btn">Browse Menu</a>
    </div>

  {%- endif -%}
</div>
